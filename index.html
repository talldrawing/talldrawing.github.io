<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Joseph Villaflor Medina · Notes & Experiments</title>
  <meta name="description" content="Interactive personal page: Japanese word/grammar of the day, Core 2K/6K progress tracker, and a doodle chalkboard.">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    :root{ --bg:#0b1220; --panel:#111827; --line:#1f2937; --text:#e5e7eb; --muted:#a3a3a3; --accent:#60a5fa; --accent2:#a78bfa; --r:16px; --shadow:0 10px 30px rgba(0,0,0,.35); }
    @media (prefers-color-scheme: light){ :root{ --bg:#f6f7fb; --panel:#ffffff; --line:#e5e7eb; --text:#0b1220; --muted:#556; --shadow:0 8px 20px rgba(2,6,23,.08); } }
    *{box-sizing:border-box}
    body{margin:0;font-family:Inter,system-ui,Segoe UI,Roboto,Helvetica,Arial;line-height:1.65;background:radial-gradient(1400px 600px at 50% -10%, #172554, var(--bg));color:var(--text)}
    .wrap{max-width:1040px;margin:0 auto;padding:28px 18px 60px}
    .nav{display:flex;align-items:center;justify-content:space-between;margin-bottom:20px}
    .brand{display:flex;gap:10px;align-items:center;text-decoration:none;color:inherit}
    .logo{width:40px;height:40px;border-radius:12px;background:linear-gradient(135deg,var(--accent),var(--accent2));display:flex;align-items:center;justify-content:center;color:white;font-weight:700;box-shadow:var(--shadow)}
    .btn{padding:10px 14px;border:1px solid var(--line);border-radius:999px;text-decoration:none;color:inherit;cursor:pointer;background:transparent}
    .btn:hover{background:rgba(255,255,255,.06)}
    .hero{background:linear-gradient(180deg,rgba(96,165,250,.18),rgba(167,139,250,.12));border:1px solid var(--line);border-radius:20px;padding:28px;text-align:center;box-shadow:var(--shadow)}
    h1{margin:6px 0 8px;font-size:clamp(28px,5vw,40px)}
    .tag{color:var(--muted);margin:0}
    .grid{display:grid;gap:18px;margin-top:20px}
    @media(min-width:900px){.grid{grid-template-columns:1fr 1fr}}
    .card{background:var(--panel);border:1px solid var(--line);border-radius:var(--r);padding:18px;box-shadow:var(--shadow)}
    .card h2{margin:0 0 8px;font-size:20px}
    .muted{color:var(--muted)}
    .small{font-size:12px}
    .row{display:flex;gap:10px;flex-wrap:wrap;align-items:center}
    .input{background:transparent;border:1px solid var(--line);border-radius:10px;padding:8px 10px;color:inherit}
    .progress{height:10px;background:#0b223b;border-radius:999px}
    .bar{width:0;height:10px;border-radius:999px;background:linear-gradient(90deg,var(--accent),var(--accent2))}
    .toolbar{display:flex;gap:10px;align-items:center;flex-wrap:wrap;margin-bottom:10px}
    canvas{background:#0a0a0a;border:1px solid var(--line);border-radius:12px;touch-action:none;width:100%;height:420px}
  </style>
</head>
<body>
  <div class="wrap">
    <nav class="nav">
      <a class="brand" href="#"><div class="logo">JV</div><strong>talldrawing.github.io</strong></a>
      <div class="row">
        <a class="btn" href="#jp">日本語</a>
        <a class="btn" href="#anki">Progress</a>
        <a class="btn" href="#board">Chalkboard</a>
        <a class="btn" href="#connect">Connect</a>
      </div>
    </nav>

    <header class="hero">
      <h1><span style="background:linear-gradient(90deg,var(--accent),var(--accent2));-webkit-background-clip:text;background-clip:text;color:transparent">Joseph Villaflor Medina</span></h1>
      <p class="tag">Tech sales in progress · curious about dev tools · 日本語 learner · gym habit</p>
    </header>

    <!-- Japanese: Word & Grammar of the Day -->
    <section class="card" id="jp">
      <h2>Japanese — Word & Grammar of the Day</h2>
      <p class="muted small">Rotates daily from a local list (no backend). Edit lists in the code anytime.</p>
      <div id="jpWord"></div>
      <div id="jpGrammar" style="margin-top:10px"></div>
      <div class="small muted" style="margin-top:6px">Seed: <span id="seed"></span></div>
    </section>

    <div class="grid">
      <!-- Core 2K/6K Progress Tracker -->
      <section class="card" id="anki">
        <h2>Study Progress (Core 2K/6K)</h2>
        <p class="muted small">Private to your browser (localStorage). Update numbers and click Save.</p>

        <div class="row">
          <label>Reviews today</label>
          <input class="input" type="number" id="reviews" min="0" style="width:110px"/>
          <label>New cards today</label>
          <input class="input" type="number" id="new" min="0" style="width:110px"/>
          <label>Streak (days)</label>
          <input class="input" type="number" id="streak" min="0" style="width:110px"/>
          <button class="btn" id="saveProg">Save</button>
          <button class="btn" id="markStudied">Mark studied today</button>
        </div>

        <div style="margin-top:14px" class="row">
          <label>Total learned</label>
          <input class="input" type="number" id="learned" min="0" style="width:120px"/>
          <label>Mature</label>
          <input class="input" type="number" id="mature" min="0" style="width:120px"/>
          <label>Deck size</label>
          <input class="input" type="number" id="deckSize" min="1" value="6000" style="width:120px"/>
        </div>

        <div style="margin-top:12px">
          <div class="muted small">Daily Reviews Goal</div>
          <div class="progress">
            <div id="progBarDaily" class="bar"></div>
          </div>
          <div class="row small muted"><span id="progTextDaily"></span></div>
        </div>

        <div style="margin-top:14px">
          <div class="muted small">Overall Learned Progress</div>
          <div class="progress">
            <div id="progBarLearned" class="bar"></div>
          </div>
          <div class="row small muted"><span id="progTextLearned"></span></div>
        </div>

        <div class="row small" style="margin-top:10px">
          <button class="btn" id="exportProg">Export JSON</button>
          <label for="importFile" class="btn">Import JSON</label>
          <input id="importFile" type="file" accept="application/json" style="display:none"/>
        </div>
      </section>

      <!-- Digital Chalkboard -->
      <section class="card" id="board">
        <h2>Digital Chalkboard</h2>
        <div class="toolbar">
          <label>Tool:</label>
          <button class="btn" id="penBtn" type="button">Pen</button>
          <button class="btn" id="eraserBtn" type="button">Eraser</button>
          <label>Size:</label>
          <input type="range" id="size" min="2" max="24" value="6"/>
          <button class="btn" id="clear" type="button">Clear</button>
          <button class="btn" id="saveImg" type="button">Save as PNG</button>
        </div>
        <canvas id="chalk" width="800" height="420"></canvas>
        <p class="muted small">Auto-saves to your browser. Try mouse or touch. "Kilroy was here" ready.</p>
      </section>
    </div>

    <!-- Connect -->
    <section class="card" id="connect" style="margin-top:18px">
      <h2>Connect</h2>
      <ul>
        <li><a href="mailto:josephevm415@gmail.com">Email</a></li>
        <li><a href="https://www.linkedin.com/in/jvm415" target="_blank" rel="noopener">LinkedIn</a></li>
        <li><a href="https://github.com/talldrawing" target="_blank" rel="noopener">GitHub</a></li>
      </ul>
    </section>

    <footer class="muted" style="text-align:center;margin-top:22px">© <span id="y"></span> Joseph Villaflor Medina — Built on GitHub Pages</footer>
  </div>

  <script>
    // --- Japanese Word & Grammar of the Day ---
    const words = [
      {jp:'挑戦 (ちょうせん)', en:'challenge; try; attempt', ex:'新しい挑戦をする。'},
      {jp:'習慣 (しゅうかん)', en:'habit; custom', ex:'毎日の習慣を守る。'},
      {jp:'効率 (こうりつ)', en:'efficiency', ex:'効率よく勉強する。'},
      {jp:'縁 (えん)', en:'fate; connection', ex:'日本との縁を感じる。'},
      {jp:'進捗 (しんちょく)', en:'progress', ex:'進捗どうですか。'}
    ];
    const grammar = [
      {pt:'〜ようにする', en:'make an effort to / try to', ex:'毎日日本語を勉強するようにしている。'},
      {pt:'〜てみる', en:'try doing (as an experiment)', ex:'新しい方法を試してみる。'},
      {pt:'〜ことにする', en:'decide to do', ex:'毎朝10分間、単語を復習することにした。'},
      {pt:'〜わけではない', en:"doesn't mean that...", ex:'忙しいわけではないが、予定がある。'},
      {pt:'〜っぱなし', en:'leave something in a state', ex:'電気をつけっぱなしにしないで。'}
    ];
    function daySeed(){ const d = new Date(); return Math.floor(Date.UTC(d.getFullYear(), d.getMonth(), d.getDate())/86400000); }
    function pick(list){ return list[ daySeed() % list.length ]; }
    const w = pick(words); const g = pick(grammar);
    document.getElementById('jpWord').innerHTML = `<strong>Word:</strong> ${w.jp} — ${w.en}<br><span class="muted">例: ${w.ex}</span>`;
    document.getElementById('jpGrammar').innerHTML = `<strong>Grammar:</strong> ${g.pt} — ${g.en}<br><span class="muted">例: ${g.ex}</span>`;
    document.getElementById('seed').textContent = daySeed();

    // --- Study Progress (localStorage) ---
    const GOAL = 100; // daily reviews target; tweak if you want
    const reviews = document.getElementById('reviews');
    const news = document.getElementById('new');
    const streak = document.getElementById('streak');
    const learned = document.getElementById('learned');
    const mature = document.getElementById('mature');
    const deckSizeInput = document.getElementById('deckSize');
    const progBarDaily = document.getElementById('progBarDaily');
    const progTextDaily = document.getElementById('progTextDaily');
    const progBarLearned = document.getElementById('progBarLearned');
    const progTextLearned = document.getElementById('progTextLearned');

    function clampPct(n){ return Math.max(0, Math.min(100, Math.round(n))); }

    function loadProgress(){
      const data = JSON.parse(localStorage.getItem('jpProgress') || '{}');
      reviews.value = data.reviews ?? 0;
      news.value = data.new ?? 0;
      streak.value = data.streak ?? 0;
      learned.value = data.learned ?? 0;
      mature.value = data.mature ?? 0;
      deckSizeInput.value = data.deckSize ?? 6000;
      updateBars();
    }

    function saveProgress(){
      const data = {
        reviews: Number(reviews.value || 0),
        new: Number(news.value || 0),
        streak: Number(streak.value || 0),
        learned: Number(learned.value || 0),
        mature: Number(mature.value || 0),
        deckSize: Number(deckSizeInput.value || 6000),
        lastSaved: new Date().toISOString()
      };
      localStorage.setItem('jpProgress', JSON.stringify(data));
      updateBars();
    }

    function updateBars(){
      const rev = Number(reviews.value || 0);
      const pctDaily = clampPct((rev / GOAL) * 100);
      progBarDaily.style.width = pctDaily + '%';
      progTextDaily.textContent = `${rev}/${GOAL} reviews (${pctDaily}%) · New: ${Number(news.value||0)} · Streak: ${Number(streak.value||0)}d`;

      const learnedNum = Number(learned.value || 0);
      const deck = Math.max(1, Number(deckSizeInput.value || 6000));
      const pctLearned = clampPct((learnedNum / deck) * 100);
      progBarLearned.style.width = pctLearned + '%';
      const mat = Number(mature.value || 0);
      progTextLearned.textContent = `${learnedNum}/${deck} learned (${pctLearned}%) · Mature: ${mat}`;
    }

    document.getElementById('saveProg').addEventListener('click', saveProgress);
    document.getElementById('markStudied').addEventListener('click', () => {
      const rev = Number(reviews.value || 0);
      if (rev > 0) {
        streak.value = Number(streak.value || 0) + 1;
        saveProgress();
      } else {
        alert('Do at least 1 review to count today!');
      }
    });

    reviews.addEventListener('input', updateBars);
    news.addEventListener('input', updateBars);
    streak.addEventListener('input', updateBars);
    learned.addEventListener('input', updateBars);
    mature.addEventListener('input', updateBars);
    deckSizeInput.addEventListener('input', updateBars);

    document.getElementById('exportProg').addEventListener('click', () => {
      const data = localStorage.getItem('jpProgress') || '{}';
      const blob = new Blob([data], {type: 'application/json'});
      const a = document.createElement('a');
      a.href = URL.createObjectURL(blob);
      a.download = 'jpProgress.json';
      a.click();
    });

    document.getElementById('importFile').addEventListener('change', (e) => {
      const file = e.target.files?.[0];
      if (!file) return;
      const reader = new FileReader();
      reader.onload = () => {
        try {
          const parsed = JSON.parse(reader.result);
          localStorage.setItem('jpProgress', JSON.stringify(parsed));
          loadProgress();
          alert('Progress imported!');
        } catch (err) {
          alert('Invalid JSON file.');
        }
      };
      reader.readAsText(file);
    });

    loadProgress();

    // --- Digital Chalkboard ---
    const canvas = document.getElementById('chalk');
    const ctx = canvas.getContext('2d');
    let drawing=false, lastX=0, lastY=0, size=document.getElementById('size').value, erase=false;

    function resizeForHiDPI(){
      const ratio = window.devicePixelRatio||1;
      const w = canvas.clientWidth, h = canvas.clientHeight;
      if(!w||!h) return;
      canvas.width = w*ratio; canvas.height = h*ratio; ctx.setTransform(ratio,0,0,ratio,0,0);
      restoreSketch();
    }

    function start(x,y){ drawing=true; lastX=x; lastY=y; }
    function line(x,y){
      if(!drawing) return;
      ctx.lineCap='round'; ctx.lineJoin='round';
      ctx.strokeStyle = erase? '#0a0a0a' : '#e5e7eb';
      ctx.lineWidth = size;
      ctx.beginPath(); ctx.moveTo(lastX,lastY); ctx.lineTo(x,y); ctx.stroke();
      lastX=x; lastY=y; saveSketch();
    }
    function end(){ drawing=false; }

    function pos(e){
      const r=canvas.getBoundingClientRect();
      if(e.touches){ return {x:e.touches[0].clientX-r.left, y:e.touches[0].clientY-r.top}; }
      return {x:e.clientX-r.left, y:e.clientY-r.top};
    }

    canvas.addEventListener('mousedown', e=> start(pos(e).x,pos(e).y));
    canvas.addEventListener('mousemove', e=> line(pos(e).x,pos(e).y));
    window.addEventListener('mouseup', end);
    canvas.addEventListener('touchstart', e=>{e.preventDefault(); const p=pos(e); start(p.x,p.y)});
    canvas.addEventListener('touchmove', e=>{e.preventDefault(); const p=pos(e); line(p.x,p.y)});
    canvas.addEventListener('touchend', end);

    document.getElementById('penBtn').onclick=()=>{erase=false};
    document.getElementById('eraserBtn').onclick=()=>{erase=true};
    document.getElementById('size').oninput=(e)=> size=e.target.value;
    document.getElementById('clear').onclick=()=>{ ctx.clearRect(0,0,canvas.width,canvas.height); saveSketch(); };
    document.getElementById('saveImg').onclick=()=>{
      const url = canvas.toDataURL('image/png');
      const a=document.createElement('a'); a.href=url; a.download='chalkboard.png'; a.click();
    };

    function saveSketch(){ try{ localStorage.setItem('chalkSketch', canvas.toDataURL('image/png')); }catch(e){} }
    function restoreSketch(){ const data = localStorage.getItem('chalkSketch'); if(!data) return; const img=new Image(); img.onload=()=>{ ctx.drawImage(img,0,0,canvas.clientWidth,canvas.clientHeight); }; img.src=data; }

    const resizeObserver = new ResizeObserver(()=>{ resizeForHiDPI(); });
    resizeObserver.observe(canvas);
    window.addEventListener('load', ()=>{ document.getElementById('y').textContent=new Date().getFullYear(); resizeForHiDPI(); });
  </script>
</body>
</html>
